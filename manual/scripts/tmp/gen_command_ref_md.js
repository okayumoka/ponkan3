!function(n){var e={};function t(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return n[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=n,t.c=e,t.d=function(n,e,o){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:o})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var r in n)t.d(o,r,function(e){return n[e]}.bind(null,r));return o},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=0)}([function(n,e,t){"use strict";t.r(e);var o=function(){function n(){}return n.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n.level<=n.LEVEL_ERROR&&console.error.apply(console,e)},n.WARN=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n.level<=n.LEVEL_WARN&&(window.console.warn?console.warn.apply(console,e):console.log.apply(console,e))},n.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n.level<=n.LEVEL_INFO&&console.log.apply(console,e)},n.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n.level<=n.LEVEL_DEBUG&&console.log.apply(console,e)},n.trace=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n.level<=n.LEVEL_TRACE&&console.log.apply(console,e)},n.LEVEL_ERROR=4,n.LEVEL_WARN=3,n.LEVEL_INFO=2,n.LEVEL_DEBUG=1,n.LEVEL_TRACE=0,n.level=n.LEVEL_INFO,n}(),r=function(){function n(){this.doneFuncs=[],this.failFuncs=[],this.alwaysFuncs=[]}return n.prototype.done=function(n){return this.doneFuncs.push(n),this},n.prototype.fail=function(n){return this.failFuncs.push(n),this},n.prototype.always=function(n){return this.alwaysFuncs.push(n),this},n.prototype.callDone=function(n){void 0===n&&(n=null),this.doneFuncs.forEach(function(e){null!=e&&e(n)}),this.alwaysFuncs.forEach(function(e){null!=e&&e(n)})},n.prototype.callFail=function(n){void 0===n&&(n=null),this.failFuncs.forEach(function(e){null!=e&&e(n)}),this.alwaysFuncs.forEach(function(e){null!=e&&e(n)})},n}(),l=function(){function n(){this.tasks=[],this.completeCallbacks=new r,this.completeCount=0,this._status="new"}return Object.defineProperty(n.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"count",{get:function(){return this.tasks.length},enumerable:!0,configurable:!0}),n.prototype.add=function(n){this.tasks.push(n)},n.prototype.run=function(n){var e=this;if(void 0===n&&(n=null),"new"!==this._status)throw o.error(this),new Error("タスクが重複して実行されました");return 0==this.tasks.length?setTimeout(function(){e.onTaskDone(0)},0):(this._status="run",this.tasks.forEach(function(t,o){t(o,n).done(function(n){e.onTaskDone(o)}).fail(function(){e.onTaskFailed(o)})})),this.completeCallbacks},n.prototype.abort=function(){this._status="abort",this.completeCallbacks.callFail(this)},n.prototype.onTaskDone=function(n){this.completeCount++,this.completeCount>=this.tasks.length&&(this._status="done",this.completeCallbacks.callDone(this))},n.prototype.onTaskFailed=function(n){this._status="fail",this.completeCallbacks.callFail(this)},n}(),u=function(){function n(n,e,t){this.eventName=n,this.callback=e,this.info=t}return n.prototype.fire=function(){this.callback()},n}(),a=function(){return function(n,e,t,o,r){this.name=n,this.type=e,this.required=t,this.defaultValue=o,this.comment=r}}(),i=function(){return function(n,e,t,o,r,l){this.names=n,this.group=e,this.comment=t,this.values=o,this.description=r,this.action=l}}();var c,s=(c={},[new i(["laycount"],"その他","レイヤーの数を変更する",[new a("count","number",!0,null,"レイヤー数")],"TODO タグの説明文",function(n,e){return c.layerCount=n.count,"continue"}),new i(["raiseerror"],"その他","エラーを発生させるかどうかの設定",[new a("unknowntag","boolean",!1,null,"存在しないタグを実行したときにエラーにする")],"",function(n,e){return null!=n.unknowntag&&(c.raiseError.unknowntag=n.unknowntag),"continue"}),new i(["clearsysvar"],"その他","システム変数をクリア",[],"",function(n,e){return c.resource.systemVar={},"continue"}),new i(["cleargamevar"],"その他","ゲーム変数をクリア",[],"",function(n,e){return c.resource.gameVar={},"continue"}),new i(["cleartmpvar"],"その他","一時変数をクリア",[],"",function(n,e){return c.resource.tmpVar={},"continue"}),new i(["clickskipopt","clickskip"],"その他","クリックスキップの設定",[new a("enabled","boolean",!0,null,"有効ならtrue、無効ならfalseを指定")],"クリックスキップの有効無効を設定します。\n      （クリックスキップとは、テキスト表示途中にクリックすると行末・ページ末までスキップする機能のことです。）",function(n,e){return c.clickSkipEnabled=n.enabled,"continue"}),new i(["quake"],"その他","画面揺れ効果の開始",[new a("time","number",!0,null,"画面揺れの時間"),new a("x","number",!1,20,"横方向の揺れの最大値"),new a("y","number",!1,20,"縦方向の揺れの最大値")],"TODO タグの説明文",function(n,e){return c.startQuake(e,n.time,n.x,n.y),"continue"}),new i(["stopquake"],"その他","画面揺れ効果の停止",[],"TODO タグの説明文",function(n,e){return c.stopQuake(),"continue"}),new i(["waitquake"],"その他","画面揺れ効果の終了待ち",[new a("canskip","boolean",!1,!0,"スキップ可能かどうか")],"TODO タグの説明文",function(n,e){return c.isQuaking?c.isSkipping&&n.canskip?(c.stopQuake(),"break"):(n.canskip&&c.conductor.addEventHandler(new u("click",function(){c.stopQuake(),c.conductor.start()},"waitquake")),c.conductor.addEventHandler(new u("quake",function(){c.conductor.start()},"waitquake")),c.conductor.stop()):"continue"}),new i(["rightclick","rclick"],"その他","右クリック時の動作を設定する",[new a("jump","boolean",!1,null,"右クリック時にjumpする場合はtrue"),new a("call","boolean",!1,null,"右クリック時にcallする場合はtrue"),new a("file","string",!1,null,"jumpまたはcallするスクリプトファイル名"),new a("label","string",!1,null,"jumpまたはcallするラベル名"),new a("enabled","boolean",!1,null,"右クリックの有効無効")],"右クリックまたは ESC キーを押下時の動作を設定します。\n       jump と call の両方を false に設定した場合、デフォルトの動作（メッセージレイヤーを隠す）になります。\n\t\t\t jump を true に設定した場合、file と label で指定した場所へジャンプします。\n\t\t\t call を true に設定した場合、file と label で指定した場所でサブルーチンを呼び出します。",function(n,e){return null!=n.jump&&(c.rightClickJump=n.jump),null!=n.call&&(c.rightClickCall=n.call),null!=n.file&&(c.rightClickFilePath=n.file),null!=n.label&&(c.rightClickLabel=n.label),null!=n.enabled&&(c.rightClickEnabled=n.enabled),"continue"}),new i(["s"],"スクリプト制御","スクリプトの実行を停止する",[],"TODO タグの説明文",function(n,e){return c.conductor.passLatestSaveMark(),c.conductor.stop(),c.stopSkip(),"break"}),new i(["jump"],"スクリプト制御","スクリプトファイルを移動する",[new a("file","string",!1,null,"移動先のスクリプトファイル名。省略時は現在のファイル内で移動する"),new a("label","string",!1,null,"移動先のラベル名。省略時はファイルの先頭"),new a("countpage","boolean",!1,!0,"現在の位置を既読にするかどうか")],"TODO タグの説明文",function(n,e){return null==n.file&&null==n.label?"continue":(c.conductor.jump(n.file,n.label,n.countpage).done(function(){c.conductor.start()}),c.conductor.stop())}),new i(["call"],"スクリプト制御","サブルーチンを呼び出す",[new a("file","string",!1,null,"移動先のスクリプトファイル名。省略時は現在のファイル内で移動する"),new a("label","string",!1,null,"移動先のラベル名。省略時はファイルの先頭"),new a("countpage","boolean",!1,!1,"現在の位置を既読にするかどうか")],"TODO タグの説明文",function(n,e){return null==n.file&&null==n.label?"continue":(c.callSubroutine(n.file,n.label,n.countpage).done(function(){c.conductor.start()}),c.conductor.stop())}),new i(["return"],"スクリプト制御","サブルーチンをから戻る",[new a("file","string",!1,null,"移動先のスクリプトファイル名。省略時は現在のファイル内で移動する"),new a("label","string",!1,null,"移動先のラベル名。省略時はファイルの先頭"),new a("forcestart","boolean",!1,!1,"戻った後、強制的にシナリオを再開する"),new a("countpage","boolean",!1,!0,"現在の位置を既読にするかどうか")],"[call]タグで呼び出したサブルーチンから、呼び出し元に戻ります。\n\n       forcestart属性は、システムボタンを作成する際に指定します。\n       システムボタンで呼び出したサブルーチンで[skip]や[auto]を実行しても、通常はサブルーチンから戻るとスクリプトは停止してしまいます。\n       forcestart属性をtrueにした時は、呼び出し元へ戻ると同時に、[lb][pb]などで停止していたとしても、強制的に再開されます。\n       ただし[s]タグでスクリプトが完全に停止していた場合は停止したままです。",function(n,e){return c.returnSubroutine(n.forcestart,n.countpage)}),new i(["if"],"スクリプト制御","条件によって分岐する",[new a("exp","string",!0,null,"条件式(JavaScript)")],"TODO タグの説明文",function(n,e){return c.conductor.script.ifJump(n.exp,c.tagActions),"continue"}),new i(["elseif","elsif"],"スクリプト制御","条件によって分岐する",[],"TODO タグの説明文",function(n,e){return c.conductor.script.elsifJump(),"continue"}),new i(["else"],"スクリプト制御","条件によって分岐する",[],"TODO タグの説明文",function(n,e){return c.conductor.script.elseJump(),"continue"}),new i(["endif"],"スクリプト制御","条件分岐の終了",[],"TODO タグの説明文",function(n,e){return"continue"}),new i(["for"],"スクリプト制御","指定回数繰り返す",[new a("loops","number",!0,null,"繰り替えし回数"),new a("indexvar","string",!1,"__index__","ループ中のインデックスを格納する変数名")],"[for]と[endfor]の間を指定回数繰り返します。\n       indexvarで指定した名前の一時変数にループ回数が格納されます。\n       ループ回数は0から始まるため、、0 〜 loops-1 の値をとります。",function(n,e){return c.conductor.script.startForLoop(n.loops,n.indexvar),"continue"}),new i(["endfor"],"スクリプト制御","forループの終端",[],"TODO タグの説明文",function(n,e){return c.conductor.script.endForLoop(),"continue"}),new i(["breakfor"],"スクリプト制御","forループから抜ける",[],"TODO タグの説明文",function(n,e){return c.conductor.script.breakForLoop(),"continue"}),new i(["startskip","skip"],"スクリプト制御","スキップを開始する",[],"TODO タグの説明文",function(n,e){return c.startSkipByTag(),"continue"}),new i(["stopskip"],"スクリプト制御","スキップを停止する",[],"TODO タグの説明文",function(n,e){return c.stopSkip(),"continue"}),new i(["startautomode","startauto","auto"],"スクリプト制御","オートモードを開始する",[],"TODO タグの説明文",function(n,e){return c.startAutoMode(),"continue"}),new i(["stopautomode","stopauto"],"スクリプト制御","オートモードを停止する",[],"TODO タグの説明文",function(n,e){return c.stopAutoMode(),"continue"}),new i(["automodeopt","autoopt"],"スクリプト制御","オートモードの設定",[new a("lay","number",!1,null,"オートモード状態表示に使用するレイヤー"),new a("time","number",!1,null,"オートモードのインターバル時間(ms)")],"TODO タグの説明文",function(n,e){return n.lay&&(c.autoModeLayerNum=n.lay),n.time&&(c.autoModeInterval=n.time),"continue"}),new i(["wait"],"スクリプト制御","指定時間を待つ",[new a("time","number",!0,null,"停止時間(ms)"),new a("canskip","boolean",!1,!0,"スキップ可能かどうか")],"TODO タグの説明文",function(n,e){return c.isSkipping&&n.canskip?"continue":(n.canskip&&c.conductor.addEventHandler(new u("click",function(){c.conductor.start(),c.stopUntilClickSkip()},"wait")),c.conductor.sleep(e,n.time,"wait"))}),new i(["waitclick"],"スクリプト制御","クリック待ちで停止する",[new a("canskip","boolean",!1,!0,"スキップ可能かどうか")],"TODO タグの説明文",function(n,e){return c.stopUntilClickSkip(),c.isSkipping&&n.canskip?"continue":(c.conductor.addEventHandler(new u("click",function(){c.conductor.start()},"waitclick")),c.autoModeFlag&&n.canskip&&c.reserveAutoClick(e),c.conductor.stop())}),new i(["macro"],"マクロ","マクロを定義する",[new a("name","string",!0,null,"マクロの名前")],"TODO タグの説明文",function(n,e){if(c.resource.hasMacro(n.name))throw new Error(n.name+"マクロはすでに登録されています");var t=c.conductor.script.defineMacro(n.name);return c.resource.macroInfo[n.name]=t,"continue"}),new i(["endmacro"],"マクロ","マクロ定義の終わり",[],"TODO タグの説明文",function(n,e){throw new Error("マクロ定義エラー。macroとendmacroの対応が取れていません")}),new i(["messageopt","mesopt"],"メッセージ","テキストの設定",[new a("lay","string",!1,"message","対象レイヤー"),new a("page","string",!1,"current","対象ページ"),new a("fontfamily","array",!1,null,"フォント名の配列"),new a("fontsize","number",!1,null,"フォントサイズ(px)"),new a("fontweight","string",!1,null,'フォントウェイト。"normal" | "bold"'),new a("color","number",!1,null,"文字色(0xRRGGBB)"),new a("margint","number",!1,null,"テキスト描画のマージン　上"),new a("marginr","number",!1,null,"テキスト描画のマージン　右"),new a("marginb","number",!1,null,"テキスト描画のマージン　下"),new a("marginl","number",!1,null,"テキスト描画のマージン　左"),new a("lineheight","number",!1,null,"テキストの行の高さ(px)"),new a("linepitch","number",!1,null,"テキストの行間(px)"),new a("align","string",!1,null,'テキスト寄せの方向。"left" | "center" | "right"'),new a("shadow","boolean",!1,null,"影の表示非表示"),new a("shadowalpha","number",!1,null,"影のAlpha(0.0〜1.0)"),new a("shadowangle","number",!1,null,"影の角度(ラジアン)"),new a("shadowblur","number",!1,null,"影のBlur"),new a("shadowcolor ","number",!1,null,"影の色(0xRRGGBB)"),new a("shadowdistance","number",!1,null,"影の距離(px)"),new a("edgewidth","number",!1,null,"縁取りの太さ(px)。0で非表示になる"),new a("edgecolor","number",!1,null,"縁取りの色(0xRRGGBB)")],"TODO タグの説明文",function(n,e){return c.getLayers(n).forEach(function(e){null!=n.fontfamily&&(e.textFontFamily=n.fontfamily),null!=n.fontsize&&(e.textFontSize=n.fontsize),null!=n.fontweight&&(e.textFontWeight=n.fontweight),null!=n.color&&(e.textColor=n.color),null!=n.margint&&(e.textMarginTop=n.margint),null!=n.marginr&&(e.textMarginRight=n.marginr),null!=n.marginb&&(e.textMarginBottom=n.marginb),null!=n.marginl&&(e.textMarginLeft=n.marginl),null!=n.lineheight&&(e.textLineHeight=n.lineheight),null!=n.linepitch&&(e.textLinePitch=n.linepitch),null!=n.align&&(e.textAlign=n.align),null!=n.shadow&&(e.textShadowVisible=n.shadow),null!=n.shadowalpha&&(e.textShadowAlpha=n.shadowalpha),null!=n.shadowangle&&(e.textShadowAngle=n.shadowangle),null!=n.shadowblur&&(e.textShadowBlur=n.shadowblur),null!=n.shadowcolor&&(e.textShadowColor=n.shadowcolor),null!=n.shadowdistance&&(e.textShadowDistance=n.shadowdistance),null!=n.edgewidth&&(e.textEdgeWidth=n.edgewidth),null!=n.edgecolor&&(e.textEdgeColor=n.edgecolor)}),"continue"}),new i(["ch"],"メッセージ","文字を出力する",[new a("lay","string",!1,"message","出力する文字"),new a("page","string",!1,"current","対象ページ"),new a("text","string",!0,null,"出力する文字")],"TODO タグの説明文",function(n,e){return c.hideBreakGlyph(),c.getLayers(n).forEach(function(e){e.addChar(n.text)}),"fore"===n.page&&c.addCharWithBackFlag&&(n.page="back",c.getLayers(n).forEach(function(e){e.addChar(n.text)})),c.isSkipping||0===c.textSpeed?"continue":c.conductor.sleep(e,c.textSpeed,"ch")}),new i(["br"],"メッセージ操作","改行する",[new a("lay","string",!1,"message","出力する文字")],"TODO タグの説明文",function(n,e){return c.getLayers(n).forEach(function(n){n.addTextReturn()}),"continue"}),new i(["clear","c"],"メッセージ操作","テキストをクリアする",[new a("lay","string",!1,"message","対象レイヤー"),new a("page","string",!1,"current","対象ページ")],"TODO タグの説明文",function(n,e){return c.getLayers(n).forEach(function(n){n.clearText()}),c.hideBreakGlyph(),"continue"}),new i(["textspeed"],"メッセージ操作","文字出力のインターバルを設定",[new a("unread","number",!1,null,"未読文章のインターバル時間(ms)"),new a("read","number",!1,null,"既読文章のインターバル時間(ms)")],"TODO タグの説明文",function(n,e){return null!=n.unread&&(c.unreadTextSpeed=n.unread),null!=n.read&&(c.readTextSpeed=n.read),"continue"}),new i(["nowait"],"メッセージ操作","一時的に文字出力インターバルを0にする",[],"TODO タグの説明文",function(n,e){return c.nowaitModeFlag=!0,"continue"}),new i(["endnowait"],"メッセージ操作","nowaitを終了する",[],"TODO タグの説明文",function(n,e){return c.nowaitModeFlag=!1,"continue"}),new i(["textlocate","locate"],"メッセージ操作","文字表示位置を指定する",[new a("lay","string",!1,"message","対象レイヤー"),new a("page","string",!1,"current","対象ページ"),new a("x","number",!1,null,"x座標"),new a("y","number",!1,null,"x座標")],"TODO タグの説明文",function(n,e){return c.getLayers(n).forEach(function(e){e.setCharLocate(n.x,n.y)}),"continue"}),new i(["indent"],"メッセージ操作","インデント位置を設定する",[new a("lay","string",!1,"message","対象レイヤー"),new a("page","string",!1,"current","対象ページ")],"現在の文字描画位置でインデントするように設定します。\n       インデント位置は [endindent] または [clear] でクリアされます。",function(n,e){return c.getLayers(n).forEach(function(n){n.setIndentPoint()}),"continue"}),new i(["endindent"],"メッセージ操作","インデント位置をクリアする",[],"[indent] で設定したインデント位置をクリアします。",function(n,e){return c.getLayers(n).forEach(function(n){n.clearIndentPoint()}),"continue"}),new i(["linebreak","lb","l"],"メッセージ操作","行末クリック待ちで停止する",[],"TODO タグの説明文",function(n,e){return c.stopUntilClickSkip(),c.isSkipping?(c.showLineBreakGlyph(e),c.hideBreakGlyph(),"break"):(c.showLineBreakGlyph(e),c.conductor.addEventHandler(new u("click",function(){c.conductor.start(),c.hideBreakGlyph()},"lb")),c.reserveAutoClick(e),c.conductor.stop())}),new i(["pagebreak","pb","p"],"メッセージ操作","行末クリック待ちで停止する",[],"TODO タグの説明文",function(n,e){return c.stopUntilClickSkip(),c.isSkipping?(c.showPageBreakGlyph(e),c.hideBreakGlyph(),"break"):(c.showPageBreakGlyph(e),c.conductor.addEventHandler(new u("click",function(){c.conductor.start(),c.hideBreakGlyph()},"pb")),c.reserveAutoClick(e),c.conductor.stop())}),new i(["hidemessages"],"メッセージ操作","メッセージレイヤを一時的に隠す",[],"TODO タグの説明文",function(n,e){return c.hideMessages(),c.conductor.addEventHandler(new u("click",function(){c.conductor.start(),c.showMessages()},"hidemessages")),c.conductor.stop()}),new i(["messagelayer","messagelay","meslay","meslay"],"レイヤー操作","メッセージレイヤーを指定する",[new a("lay","number",!0,null,"対象レイヤー")],"TODO タグの説明文",function(n,e){var t=+n.lay;if(t<0||c.layerCount<=t)throw new Error("メッセージレイヤーの指定が範囲外です");return c.messageLayerNum=t,"continue"}),new i(["linebreakglyph","lbglyph"],"レイヤー操作","行末グリフに関して設定する",[new a("lay","number",!1,null,"グリフとして使用するレイヤー"),new a("pos","string",!1,null,'グリフの表示位置。"eol"を指定すると文章の末尾に表示。"fixed"を指定すると固定位置で表示。\n           "eol"を指定すると文章の末尾に表示。\n           "relative"を指定するとメッセージレイヤーとの相対位置で固定表示。\n           "absolute"を指定すると画面上の絶対位置で固定表示。'),new a("x","number",!1,null,"グリフの表示位置（メッセージレイヤーからの相対位置）"),new a("y","number",!1,null,"グリフの表示位置（メッセージレイヤーからの相対位置）")],"TODO タグの説明文",function(n,e){return null!=n.lay&&(c.lineBreakGlyphLayerNum=n.lay),null!=n.pos&&(c.lineBreakGlyphPos=n.pos),null!=n.x&&(c.lineBreakGlyphX=n.x),null!=n.y&&(c.lineBreakGlyphY=n.y),"continue"}),new i(["pagebreakglyph","pbglyph"],"レイヤー操作","ページ末グリフに関して設定する",[new a("lay","number",!1,null,"グリフとして使用するレイヤー"),new a("pos","string",!1,null,'グリフの表示位置。"eol"を指定すると文章の末尾に表示。"fixed"を指定すると固定位置で表示。\n           "eol"を指定すると文章の末尾に表示。\n           "relative"を指定するとメッセージレイヤーとの相対位置で固定表示。\n           "absolute"を指定すると画面上の絶対位置で固定表示。'),new a("x","number",!1,null,"グリフの表示位置（メッセージレイヤーからの相対位置）"),new a("y","number",!1,null,"グリフの表示位置（メッセージレイヤーからの相対位置）")],"TODO タグの説明文",function(n,e){return null!=n.lay&&(c.pageBreakGlyphLayerNum=n.lay),null!=n.pos&&(c.pageBreakGlyphPos=n.pos),null!=n.x&&(c.pageBreakGlyphX=n.x),null!=n.y&&(c.pageBreakGlyphY=n.y),"continue"}),new i(["fillcolor","fill"],"レイヤー操作","レイヤーを塗りつぶす",[new a("lay","string",!0,null,"対象レイヤー"),new a("page","string",!1,"current","対象ページ"),new a("color","number",!0,null,"塗りつぶし色(0xRRGGBB)"),new a("alpha","number",!1,1,"塗りつぶしのAlpha(0.0〜1.0)")],"TODO タグの説明文",function(n,e){return c.getLayers(n).forEach(function(e){e.setBackgroundColor(n.color,n.alpha)}),"continue"}),new i(["clearcolor"],"レイヤー操作","レイヤー塗りつぶしをクリアする",[new a("lay","string",!0,null,"対象レイヤー"),new a("page","string",!1,"current","対象ページ")],"TODO タグの説明文",function(n,e){return c.getLayers(n).forEach(function(n){n.clearBackgroundColor()}),"continue"}),new i(["layopt"],"レイヤー操作","レイヤーの設定",[new a("lay","string",!0,null,"対象レイヤー"),new a("page","string",!1,"current","対象ページ"),new a("visible","boolean",!1,null,"表示非表示"),new a("x","number",!1,null,"x座標(px)"),new a("y","number",!1,null,"y座標(px)"),new a("width","number",!1,null,"幅(px)"),new a("height","number",!1,null,"高さ(px)"),new a("alpha","number",!1,1,"レイヤーのAlpha(0.0〜1.0)"),new a("autohide","boolean",!1,null,"hidemessagesで同時に隠すかどうか"),new a("blocklclick","boolean",!1,null,"左クリックイベントを遮断するかどうか"),new a("blockrclick","boolean",!1,null,"右クリックイベントを遮断するかどうか"),new a("blockcclick","boolean",!1,null,"中クリックイベントを遮断するかどうか"),new a("blockmove","boolean",!1,null,"マウス移動イベントを遮断するかどうか"),new a("blockwheel","boolean",!1,null,"マウスホイールイベントを遮断するかどうか")],"TODO タグの説明文",function(n,e){return c.getLayers(n).forEach(function(e){null!=n.visible&&(e.visible=n.visible),null!=n.x&&(e.x=n.x),null!=n.y&&(e.y=n.y),null!=n.width&&(e.width=n.width),null!=n.height&&(e.height=n.height),null!=n.alpha&&(e.alpha=n.alpha),null!=n.autohide&&(e.autoHideWithMessage=n.autohide),null!=n.blocklclick&&(e.blockLeftClickFlag=n.blocklclick),null!=n.blockrclick&&(e.blockRightClickFlag=n.blockrclick),null!=n.blockcclick&&(e.blockCenterClickFlag=n.blockcclick),null!=n.blockmove&&(e.blockMouseMove=n.blockmove),null!=n.blockwheel&&(e.blockWheelFlag=n.blockwheel)}),"continue"}),new i(["loadimage","image"],"レイヤー操作","レイヤーに画像を読み込む",[new a("lay","string",!0,null,"対象レイヤー"),new a("page","string",!1,"current","対象ページ"),new a("file","string",!0,null,"読み込む画像ファイルパス"),new a("visible","boolean",!1,null,"表示非表示"),new a("x","number",!1,null,"x座標(px)"),new a("y","number",!1,null,"y座標(px)")],"TODO タグの説明文",function(n,e){var t=new l;return c.getLayers(n).forEach(function(e){t.add(function(){return null!=n.x&&(e.x=n.x),null!=n.y&&(e.y=n.y),null!=n.visible&&(e.visible=n.visible),e.loadImage(n.file)})}),t.run().done(function(){c.conductor.start()}).fail(function(){c.error(new Error("画像読み込みに失敗しました。"))}),c.conductor.stop()}),new i(["loadchildimage","childimage",""],"レイヤー操作","レイヤーに追加で画像を読み込む",[new a("lay","string",!0,null,"対象レイヤー"),new a("page","string",!1,"current","対象ページ"),new a("file","string",!0,null,"読み込む画像ファイルパス"),new a("x","number",!0,null,"x座標(px)"),new a("y","number",!0,null,"y座標(px)"),new a("alpha","number",!1,1,"表示非表示")],"TODO タグの説明文",function(n,e){var t=new l;return c.getLayers(n).forEach(function(e){t.add(function(){return e.loadChildImage(n.file,n.x,n.y,n.alpha)})}),t.run().done(function(){c.conductor.start()}).fail(function(){c.error(new Error("追加の画像読み込みに失敗しました。"))}),c.conductor.stop()}),new i(["freeimage","free","unloadimage"],"レイヤー操作","レイヤーの画像を開放する",[new a("lay","string",!0,null,"対象レイヤー"),new a("page","string",!1,"current","対象ページ")],"TODO タグの説明文",function(n,e){return c.getLayers(n).forEach(function(n){n.freeImage(),n.freeChildImages()}),"continue"}),new i(["textbutton","txtbtn"],"ボタン","レイヤーにテキストボタンを配置する",[new a("lay","string",!0,null,"対象レイヤー"),new a("page","string",!1,"current","対象ページ"),new a("jump","boolean",!1,!0,"ボタン押下時にjumpする場合はtrue"),new a("call","boolean",!1,null,"ボタン押下時にcallする場合はtrue"),new a("file","string",!1,null,"ボタン押下時にjumpまたはcallするスクリプトファイル名"),new a("label","string",!1,null,"ボタン押下時にjumpまたはcallするラベル名"),new a("exp","string",!1,null,"ボタン押下時に実行するJavaScript"),new a("text","string",!1,"","テキスト"),new a("x","number",!1,0,"x座標(px)"),new a("y","number",!1,0,"y座標(px)"),new a("width","number",!0,null,"幅(px)"),new a("height","number",!0,null,"高さ(px)"),new a("bgcolors","array",!0,null,"背景色の配列(0xRRGGBB)。通常時、マウスオーバー時、マウス押下時の順"),new a("bgalphas","array",!1,[1,1,1],"背景色のAlphaの配列(0.0〜1.0)。通常時、マウスオーバー時、マウス押下時の順"),new a("system","boolean",!1,!1,"システム用ボタンとする場合はtrue"),new a("margint","number",!1,0,"テキスト描画のマージン　上"),new a("marginr","number",!1,0,"テキスト描画のマージン　右"),new a("marginb","number",!1,0,"テキスト描画のマージン　下"),new a("marginl","number",!1,0,"テキスト描画のマージン　左"),new a("marginl","number",!1,0,"テキスト描画のマージン　左"),new a("align","string",!1,"center",'テキスト寄せの方向。"left" | "center" | "right"'),new a("countpage","boolean",!1,!0,"現在の位置を既読にするかどうか")],"指定のレイヤーに、テキストと背景色を用いたボタンを配置します。\n       配置直後はボタンはロックされた状態となり、押下することはできません。\n       [unlockbuttons]タグでロック状態を解除することで、押下できるようになります。",function(n,e){return c.getLayers(n).forEach(function(e){e.addTextButton(n.jump,n.call,n.file,n.label,n.countpage,n.exp,n.text,n.x,n.y,n.width,n.height,n.bgcolors,n.bgalphas,n.system,n.margint,n.marginr,n.marginb,n.marginl,n.align)}),"continue"}),new i(["clearbuttons","clearbutton","clearbtn"],"ボタン","すべてのボタンをクリアする",[new a("lay","string",!0,null,"対象レイヤー"),new a("page","string",!1,"current","対象ページ")],"TODO タグの説明文",function(n,e){return c.getLayers(n).forEach(function(n){n.clearTextButtons(),n.clearImageButtons(),n.clearToggleButtons()}),"continue"}),new i(["cleartextbuttons","cleartextbutton","cleartxtbtn"],"ボタン","テキストボタンをクリアする",[new a("lay","string",!0,null,"対象レイヤー"),new a("page","string",!1,"current","対象ページ")],"TODO タグの説明文",function(n,e){return c.getLayers(n).forEach(function(n){n.clearTextButtons()}),"continue"}),new i(["imagebutton","imgbtn"],"ボタン","レイヤーに画像ボタンを配置する",[new a("lay","string",!0,null,"対象レイヤー"),new a("page","string",!1,"current","対象ページ"),new a("jump","boolean",!1,!0,"ボタン押下時にjumpする場合はtrue"),new a("call","boolean",!1,null,"ボタン押下時にcallする場合はtrue"),new a("file","string",!1,null,"ボタン押下時にjumpまたはcallするスクリプトファイル名"),new a("label","string",!1,null,"ボタン押下時にjumpまたはcallするラベル名"),new a("exp","string",!1,null,"ボタン押下時に実行するJavaScript"),new a("imagefile","string",!0,null,"ボタンにする画像ファイル"),new a("x","number",!1,0,"x座標(px)"),new a("y","number",!1,0,"y座標(px)"),new a("direction","string",!1,"horizontal",'ボタン画像ファイルの向き。"horizontal"なら横並び、"vertical"なら縦並び"'),new a("system","boolean",!1,!1,"システム用ボタンとする場合はtrue"),new a("countpage","boolean",!1,!0,"現在の位置を既読にするかどうか")],"TODO タグの説明文",function(n,e){return c.getLayers(n).forEach(function(e){e.addImageButton(n.jump,n.call,n.file,n.label,n.countpage,n.exp,n.imagefile,n.x,n.y,n.direction,n.system).done(function(){c.conductor.start()})}),c.conductor.stop()}),new i(["clearimagebuttons","clearimagebutton","clearimgbtn"],"ボタン","画像ボタンをクリアする",[new a("lay","string",!0,null,"対象レイヤー"),new a("page","string",!1,"current","対象ページ")],"TODO タグの説明文",function(n,e){return c.getLayers(n).forEach(function(n){n.clearImageButtons()}),"continue"}),new i(["togglebutton","tglbtn"],"ボタン","レイヤーにトグルボタンを配置する",[new a("lay","string",!0,null,"対象レイヤー"),new a("page","string",!1,"current","対象ページ"),new a("exp","string",!1,null,"ボタン押下時に実行するJavaScript"),new a("imagefile","string",!0,null,"ボタンにする画像ファイル"),new a("x","number",!1,0,"x座標(px)"),new a("y","number",!1,0,"y座標(px)"),new a("statevar","string",!0,null,"選択状態を格納する一時変数の名前"),new a("direction","string",!1,"horizontal",'ボタン画像ファイルの向き。"horizontal"なら横並び、"vertical"なら縦並び"'),new a("system","boolean",!1,!1,"システム用ボタンとする場合はtrue")],"TODO タグの説明文",function(n,e){return c.getLayers(n).forEach(function(e){e.addToggleButton(n.imagefile,n.x,n.y,n.statevar,n.system,n.exp,n.direction).done(function(){c.conductor.start()})}),c.conductor.stop()}),new i(["cleartogglebuttons","cleartogglebutton","cleartglbtn"],"ボタン","トグルボタンをクリアする",[new a("lay","string",!0,null,"対象レイヤー"),new a("page","string",!1,"current","対象ページ")],"TODO タグの説明文",function(n,e){return c.getLayers(n).forEach(function(n){n.clearToggleButtons()}),"continue"}),new i(["lockbuttons","lockbutton","lock"],"ボタン","ボタンをロックする",[new a("lay","string",!1,"all","対象レイヤー"),new a("page","string",!1,"current","対象ページ")],"TODO タグの説明文",function(n,e){return c.getLayers(n).forEach(function(n){n.lockButtons()}),"continue"}),new i(["unlockbuttons","unlockbutton","unlock"],"ボタン","ボタンをアンロックする",[new a("lay","string",!1,"all","対象レイヤー"),new a("page","string",!1,"current","対象ページ")],"TODO タグの説明文",function(n,e){return c.getLayers(n).forEach(function(n){n.unlockButtons()}),"continue"}),new i(["locksystembuttons","locksystembutton","locksystem"],"ボタン","システムボタンをロックする",[],"TODO タグの説明文",function(n,e){return c.foreLayers.forEach(function(n){return n.lockSystemButtons()}),c.backLayers.forEach(function(n){return n.lockSystemButtons()}),"continue"}),new i(["unlocksystembuttons","unlocksystembutton","unlocksystem"],"ボタン","システムボタンをアンロックする",[],"TODO タグの説明文",function(n,e){return c.foreLayers.forEach(function(n){return n.unlockSystemButtons()}),c.backLayers.forEach(function(n){return n.unlockSystemButtons()}),"continue"}),new i(["frameanim","fanim"],"アニメーション","フレームアニメーションを設定する",[new a("lay","string",!0,null,"対象レイヤー"),new a("page","string",!1,"current","対象ページ"),new a("loop","boolean",!1,!1,"アニメーションをループさせるかどうか"),new a("time","number",!0,null,"1フレームの時間"),new a("width","number",!0,null,"1フレームの幅"),new a("height","number",!0,null,"1フレームの高さ"),new a("frames","array",!0,null,"フレーム指定")],"TODO タグの説明文",function(n,e){return c.getLayers(n).forEach(function(e){e.initFrameAnim(n.loop,n.time,n.width,n.height,n.frames)}),"continue"}),new i(["startframeanim","startfanim"],"アニメーション","フレームアニメーションを開始する",[new a("lay","string",!0,null,"対象レイヤー"),new a("page","string",!1,"current","対象ページ")],"TODO タグの説明文",function(n,e){return c.getLayers(n).forEach(function(n){n.startFrameAnim(e)}),"continue"}),new i(["stopframeanim","stopfanim"],"アニメーション","フレームアニメーションを停止する",[new a("lay","string",!0,null,"対象レイヤー"),new a("page","string",!1,"current","対象ページ")],"TODO タグの説明文",function(n,e){return c.getLayers(n).forEach(function(n){n.deleteFrameAnim()}),"continue"}),new i(["waitframeanim","waitfanim"],"アニメーション","フレームアニメーションの終了を待つ",[new a("lay","string",!0,null,"対象レイヤー"),new a("page","string",!1,"current","対象ページ"),new a("canskip","boolean",!1,!0,"スキップ可能かどうか")],"TODO タグの説明文",function(n,e){var t=c.getLayers(n).filter(function(n){return n.frameAnimRunning&&!n.frameAnimLoop});return 0===t.length?"continue":c.isSkipping&&n.canskip?(c.waitFrameAnimClickCallback(t),"break"):(n.canskip&&c.conductor.addEventHandler(new u("click",function(){c.waitFrameAnimClickCallback(t)},"waitframeanim")),c.conductor.addEventHandler(new u("frameanim",function(){c.waitFrameAnimCompleteCallback(t)},"waitframeanim")),c.conductor.stop())}),new i(["startmove","move"],"アニメーション","自動移動を開始する",[new a("lay","string",!0,null,"対象レイヤー"),new a("page","string",!1,"current","対象ページ"),new a("time","number",!0,null,"自動移動させる時間"),new a("delay","number",!1,0,"開始までの遅延時間(ms)"),new a("path","array",!0,null,"自動移動させる位置を指定"),new a("type","string",!1,"linear",'自動移動のタイプ。"linear" | "bezier2" | "bezier3" | "catmullrom"'),new a("ease","string",!1,"none",'自動移動の入り・抜きの指定。"none" | "in" | "out" | "both" ')],"TODO タグの説明文",function(n,e){return c.getLayers(n).forEach(function(t){t.startMove(e,n.time,n.delay,n.path,n.type,n.ease)}),"continue"}),new i(["stopmove"],"アニメーション","自動移動を停止する",[new a("lay","string",!1,"all","対象レイヤー"),new a("page","string",!1,"current","対象ページ")],"TODO タグの説明文",function(n,e){return c.getLayers(n).forEach(function(n){n.stopMove()}),"continue"}),new i(["waitmove","wm"],"アニメーション","自動移動の終了を待つ",[new a("canskip","boolean",!1,!0,"スキップ可能かどうか")],"TODO タグの説明文",function(n,e){return c.hasMovingLayer?c.isSkipping&&n.canskip?(c.waitMoveClickCallback(),"break"):(n.canskip&&c.conductor.addEventHandler(new u("click",function(){c.waitMoveClickCallback()},"waitmove")),c.conductor.addEventHandler(new u("move",function(){c.waitMoveCompleteCallback()},"waitmove")),c.conductor.stop()):"continue"}),new i(["loadsound","sound"],"サウンド","音声をロードする",[new a("buf","number",!0,null,"読み込み先バッファ番号"),new a("file","string",!0,null,"読み込む音声ファイルパス")],"TODO タグの説明文",function(n,e){return c.getSoundBuffer(n.buf).loadSound(n.file).done(function(n){c.conductor.start()}).fail(function(){throw new Error("音声のロードに失敗しました("+n.file+")")}),c.conductor.stop()}),new i(["freesound","unloadsound"],"サウンド","音声を開放する",[new a("buf","number",!0,null,"読み込み先バッファ番号")],"TODO タグの説明文",function(n,e){return c.getSoundBuffer(n.buf).freeSound(),"continue"}),new i(["soundopt"],"サウンド","音声の設定",[new a("buf","number",!0,null,"バッファ番号"),new a("volume","number",!1,null,"音量(0.0〜1.0)"),new a("volume2","number",!1,null,"音量2(0.0〜1.0)"),new a("seek","number",!1,null,"シーク位置(ms)"),new a("loop","boolean",!1,null,"ループ再生するかどうか")],"TODO タグの説明文",function(n,e){var t=c.getSoundBuffer(n.buf);return null!=n.volume&&(t.volume=n.volume),null!=n.volume2&&(t.volume2=n.volume2),null!=n.seek&&(t.seek=n.seek),null!=n.loop&&(t.loop=n.loop),"continue"}),new i(["playsound"],"サウンド","音声を再生する",[new a("buf","number",!0,null,"読み込み先バッファ番号")],"TODO タグの説明文",function(n,e){return c.getSoundBuffer(n.buf).play(),"continue"}),new i(["stopsound"],"サウンド","音声を停止する",[new a("buf","number",!0,null,"読み込み先バッファ番号")],"TODO タグの説明文",function(n,e){return c.getSoundBuffer(n.buf).stop(),"continue"}),new i(["fadesound"],"サウンド","音声をフェードする",[new a("buf","number",!0,null,"読み込み先バッファ番号"),new a("volume","number",!0,null,"フェード後の音量(0.0〜1.0)"),new a("time","number",!0,null,"フェード時間(ms)"),new a("autostop","boolean",!1,!1,"フェード終了後に再生停止するか")],"TODO タグの説明文",function(n,e){return c.getSoundBuffer(n.buf).fade(n.volume,n.time,n.autostop),"continue"}),new i(["fadeoutsound","fadeout"],"サウンド","音声をフェードアウトして再生停止する",[new a("buf","number",!0,null,"読み込み先バッファ番号"),new a("time","number",!0,null,"フェード時間(ms)"),new a("autostop","boolean",!1,!1,"フェード終了後に再生停止するか")],"TODO タグの説明文",function(n,e){return c.getSoundBuffer(n.buf).fadeout(n.time,n.autostop),"continue"}),new i(["fadeinsound","fadein"],"サウンド","音声をフェードインで再生開始する",[new a("buf","number",!0,null,"読み込み先バッファ番号"),new a("volume","number",!0,null,"フェード後の音量(0.0〜1.0)"),new a("time","number",!0,null,"フェード時間(ms)")],"TODO タグの説明文",function(n,e){return c.getSoundBuffer(n.buf).fadein(n.volume,n.time),"continue"}),new i(["waitsoundstop","waitsound"],"サウンド","音声の再生終了を待つ",[new a("buf","number",!0,null,"読み込み先バッファ番号"),new a("canskip","boolean",!1,!0,"スキップ可能かどうか")],"TODO タグの説明文",function(n,e){var t=c.getSoundBuffer(n.buf);return!t.playing||t.loop?"continue":c.isSkipping&&n.canskip?(c.waitSoundStopClickCallback(t),"continue"):(n.canskip&&c.conductor.addEventHandler(new u("click",function(){c.waitSoundStopClickCallback(t)},"waitsoundstop")),c.conductor.addEventHandler(new u("soundstop",function(){c.waitSoundCompleteCallback(t)},"waitsoundstop")),c.conductor.stop())}),new i(["waitsoundfade","waitfade"],"サウンド","音声のフェード終了を待つ",[new a("buf","number",!0,null,"読み込み先バッファ番号"),new a("canskip","boolean",!1,!0,"スキップ可能かどうか")],"TODO タグの説明文",function(n,e){var t=c.getSoundBuffer(n.buf);return t.fading?c.isSkipping&&n.canskip?(c.waitSoundFadeClickCallback(t),"continue"):(n.canskip&&c.conductor.addEventHandler(new u("click",function(){c.waitSoundFadeClickCallback(t)},"waitsoundfade")),c.conductor.addEventHandler(new u("soundfade",function(){c.waitSoundFadeCompleteCallback(t)},"waitsoundfade")),c.conductor.stop()):"continue"}),new i(["endfadesound","endfade"],"サウンド","音声のフェードを終了する",[new a("buf","number",!0,null,"読み込み先バッファ番号")],"TODO タグの説明文",function(n,e){return c.getSoundBuffer(n.buf).endFade(),"continue"}),new i(["backlay"],"トランジション","表レイヤを裏レイヤにコピーする",[new a("lay","string",!1,"all","対象レイヤー")],"TODO タグの説明文",function(n,e){return c.backlay(n.lay),"continue"}),new i(["copylay"],"トランジション","レイヤ情報をコピーする",[new a("srclay","number",!0,null,"コピー元レイヤー"),new a("destlay","number",!0,null,"コピー先レイヤー"),new a("srcpage","string",!1,"fore","コピー元ページ"),new a("destpage","string",!1,"fore","コピー先ページ")],"TODO タグの説明文",function(n,e){return c.copylay(n.srclay,n.destlay,n.srcpage,n.destpage),"continue"}),new i(["currentpage"],"トランジション","操作対象ページを変更する",[new a("page","string",!0,null,"操作対象ページを指定")],"TODO タグの説明文",function(n,e){return c.currentPage=n.page,"continue"}),new i(["preparetrans","pretrans"],"トランジション","トランジションの前準備",[],"TODO タグの説明文",function(n,e){return c.backlay("all"),c.currentPage="back","continue"}),new i(["trans"],"トランジション","トランジションを実行する",[new a("time","number",!0,null,"トランジションの時間(ms)"),new a("method","string",!1,"crossfade","トランジションの種類"),new a("rule","string",!1,"","ユニバーサルトランジションのルールファイル名"),new a("vague","number",!1,.25,"あいまい値")],"TODO タグの説明文",function(n,e){return n.time<=0?(c.flip(),c.onCompleteTrans(),"break"):"univ"===n.method?(c.transManager.initUnivTrans(n.time,n.rule,n.vague).done(function(){c.transManager.start(),c.conductor.start()}),c.conductor.stop()):(c.transManager.initTrans(n.time,n.method).done(function(){c.transManager.start(),c.conductor.start()}),c.conductor.stop())}),new i(["stoptrans"],"トランジション","トランジションを停止する",[],"TODO タグの説明文",function(n,e){return c.transManager.isRunning?(c.transManager.stop(),"break"):"continue"}),new i(["waittrans","wt"],"トランジション","トランジションの終了を待つ",[new a("canskip","boolean",!1,!0,"スキップ可能かどうか")],"TODO タグの説明文",function(n,e){return c.transManager.isRunning?c.isSkipping&&n.canskip?(c.waitTransClickCallback(),"break"):(n.canskip&&c.conductor.addEventHandler(new u("click",function(){c.waitTransClickCallback()},"waittrans")),c.conductor.addEventHandler(new u("trans",function(){c.waitTransCompleteCallback()},"waittrans")),c.conductor.stop()):"continue"}),new i(["historyopt"],"メッセージ履歴","メッセージ履歴を設定する",[new a("output","boolean",!1,null,"メッセージレイヤに文字を出力するかどうか"),new a("enabled","boolean",!1,null,"メッセージレイヤを表示できるかどうか")],"TODO タグの説明文",function(n,e){return null!=n.output&&(c.historyLayer.outputFlag=n.output),null!=n.enabled&&(c.enabledHistory=n.enabled),"continue"}),new i(["showhistory","history"],"メッセージ履歴","メッセージ履歴を表示する",[],"TODO タグの説明文",function(n,e){return c.showHistoryLayer(),"continue"}),new i(["save"],"セーブ／ロード","最新状態をセーブする",[new a("num","number",!0,null,"セーブ番号")],"TODO タグの説明文",function(n,e){return c.save(e,n.num),"continue"}),new i(["load"],"セーブ／ロード","セーブデータから復元する",[new a("num","number",!0,null,"セーブ番号")],"TODO タグの説明文",function(n,e){return c.load(e,n.num).done(function(){c.conductor.start()}).fail(function(){c.error(new Error("セーブデータのロードに失敗しました("+n.num+")"))}),c.conductor.stop()}),new i(["tempsave"],"セーブ／ロード","一時セーブする",[new a("num","number",!0,null,"セーブ番号")],"TODO タグの説明文",function(n,e){return c.tempSave(e,n.num),"continue"}),new i(["tempload"],"セーブ／ロード","一時セーブデータから復元する",[new a("num","number",!0,null,"セーブ番号"),new a("sound","boolean",!1,!1,"音声もロードするかどうか"),new a("toback","boolean",!1,!1,"表レイヤーを裏レイヤーとして復元するかどうか")],"TODO タグの説明文",function(n,e){return c.tempLoad(e,n.num,n.sound,n.toback).done(function(){c.conductor.start()}).fail(function(){c.error(new Error("セーブデータのロードに失敗しました("+n.num+")"))}),c.conductor.stop()}),new i(["screenshot"],"セーブ／ロード","現在の画面のスクリーンショットを取る",[],"現在の画面の状態でスクリーンショットを取ります。\n       取得されたスクリーンショットは [save] で保存されます。",function(n,e){return c.reserveScreenShot(),"continue"}),new i(["copysavedata","copysave"],"セーブ／ロード","セーブデータをコピーする",[new a("srcnum","number",!0,null,"コピー元のセーブ番号"),new a("destnum","number",!0,null,"コピー先のセーブ番号")],"TODO タグの説明文",function(n,e){return c.copySaveData(n.srcnum,n.destnum),"continue"}),new i(["deletesavedata","delsavedata","delsave"],"セーブ／ロード","セーブデータを削除する",[new a("num","number",!0,null,"セーブ番号")],"TODO タグの説明文",function(n,e){return c.deleteSaveData(n.num),"continue"})]),w={};s.forEach(function(n){null==w[n.group]&&(w[n.group]=[]),w[n.group].push(n)});var f=Object.keys(w);console.log(f);var p="# コマンドリファレンス",d="## コマンド一覧";f.forEach(function(n){d+="\n### "+n+"\n\n",d+="| コマンド名 | 内容 |\n",d+="|------------|------|\n",w[n].forEach(function(n){d+="| "+n.names.join(", ")+" | "+n.comment+" |\n"})}),p+=d,console.log(p)}]);