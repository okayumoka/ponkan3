<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Ponkan3 TEST</title>
    <style>
      @font-face {
        font-family: 'mplus-1p-regular';
        src: url('./fonts/mplus-1m-regular.woff') format('woff')
      }
    </style>
  </head>
  <body>
    <div id="game"></div>
    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js"></script>
    <script src="./ponkan3.js"></script>
    <script>
      var width = 1280;
      var height = 720;
      var ponkan = new Ponkan3("game", {
        gameDataDir: "./gamedata",
        saveDataPrefix: "ponkan-sample",
        width: 1280,
        height: 720,

        // デフォルトのレイヤ設定
        // layersDefault: {},

        // 履歴レイヤ
        history: {
          text: {
            textFontFamily: ["mplus-1p-regular"],
            textFontSize: 24,
            textLineHeight: 24,
            textLinePitch: 5,
            backgroundColor: 0x000000,
            backgroundAlpha: 0.7,
            textMarginTop: 100,
            textMarginRight: 100,
            textMarginBottom: 100,
            textMarginLeft: 100,
          },
          upButton: {
            x: width - 32 - 20,
            y: 20,
            width: 32,
            height: 32,
            bgColors: [0x4286f4, 0x4286f4, 0x4286f4],
            bgAlphas: [0.8, 0.9, 1.0],
          },
          downButton: {
            x: width - 32 - 20,
            y: height - 32 - 20,
            width: 32,
            height: 32,
            bgColors: [0x4286f4, 0x4286f4, 0x4286f4],
            bgAlphas: [0.8, 0.9, 1.0],
          },
          scrollBar: {
            x: width - 32 - 20,
            y: 20 + 32,
            width: 32,
            height: height - (32+20)*2,
            backgroundColor: 0x4286f4,
            backgroundAlpha: 0.1,
            bgColors: [0x4286f4, 0x4286f4, 0x4286f4],
            bgAlphas: [0.4, 0.5, 0.6],
          },
        }
      });
      WebFont.load({
        classes: false,
        custom: { families: ["mplus-1p-regular"] },
        active: function() {
          console.log("WebFont: ", "active.");
          ponkan.start();
        },
        inactive: function() {
          console.log("WebFont: ", "inactive.");
          alert("フォントの読み込みに失敗");
        },
      });
    </script>
  </body>
</html>

